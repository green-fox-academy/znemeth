# Megalotis Sapphire - OpenCV project
_created by_ László Bogár, Tamás Németh, Zoltán Németh, Márton Porkoláb, Lilla Tóth

## Project documentation

We have been creating a program that is able to detect and modify shapes and text on images.<br/>
We use the following technologies:
* MS Visual Studio 2017 with C++14
* MySQL
* OpenCV library
* Google Test<br/>

## List of available features with examples in alphabetical order

- add 2 images <br/>

  <img src="img/new_york.jpg" alt="new_york" width="51" height="77">
  <img src="img/speaker.jpg" alt="speaker" width="51" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/add_image.jpg" alt="add_image" width="51" height="77">

- cartoon effect <br/>

  <img src="img/speed_sign.jpg" alt="speed_sign" width="104" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/cartoon_effect.jpg" alt="cartoon_effect" width="104" height="77">

- closing effect <br/>

  <img src="img/number.jpg" alt="number4" width="91" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/closed.jpg" alt="closed_effect" width="91" height="77">

- create histogram for brightness <br/>

  <img src="img/speed_sign.jpg" alt="speed_sign" width="104" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/rebright_image.jpg" alt="brighted_image" width="103" height="77">

- create histogram for contrast <br/>

  <img src="img/speed_sign.jpg" alt="speed_sign" width="104" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/recontrast_image.jpg" alt="contrasted_image" width="103" height="77">

- decolor image <br/>

  <img src="img/speed_sign.jpg" alt="speed_sign" width="104" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/decolor_image.jpg" alt="decolor_image" width="104" height="77">

- detect corners <br/>

  <img src="img/diamond.jpg" alt="diamond" width="108" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/corners.jpg" alt="detect_corners" width="108" height="77">

- detect edges <br/>

  <img src="img/speed_sign.jpg" alt="speed_sign" width="104" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/detect_edge.jpg" alt="detect_edge" width="104" height="77">

- dilate image <br/>

  <img src="img/number.jpg" alt="number4" width="91" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/dilate.jpg" alt="dilated_image" width="91" height="77">

- divide 2 images <br/>

  <img src="img/new_york.jpg" alt="new_york" width="51" height="77">
  <img src="img/speaker.jpg" alt="speaker" width="51" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/divide_image.jpg" alt="divide_image" width="51" height="77">

- erode image <br/>

  <img src="img/number.jpg" alt="number4" width="91" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/erosion.jpg" alt="erode_image" width="91" height="77">

- image sharpening <br/>

  <img src="img/speed_sign.jpg" alt="speed_sign" width="104" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/sharpen_image.jpg" alt="shapren_effect" width="104" height="77">

- multiply 2 images <br/>

  <img src="img/new_york.jpg" alt="new_york" width="51" height="77">
  <img src="img/speaker.jpg" alt="speaker" width="51" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/multiply_image.jpg" alt="multiply_image" width="51" height="77">

- opening effect <br/>

  <img src="img/number.jpg" alt="number4" width="91" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/opened.jpg" alt="opening_effect" width="91" height="77">

- panorama effect

  <img src="img/img1.JPG" alt="pan1" width="77" height="77">
  <img src="img/img2.JPG" alt="pan2" width="77" height="77">
  <img src="img/img3.JPG" alt="pan3" width="77" height="77">
  <img src="img/img4.JPG" alt="pan4" width="77" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/panorama.jpg" alt="panorama" width="145" height="77">

- reduce color <br/>

  <img src="img/speed_sign.jpg" alt="speed_sign" width="104" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/reduce_color.jpg" alt="reduce_color" width="104" height="77">

- resize and rotate image <br/>

  <img src="img/speed_sign.jpg" alt="speed_sign" width="104" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/resizerotated_image.jpg" alt="resized_and_rotated_image" width="208" height="154">

- resize image <br/>

  <img src="img/speed_sign.jpg" alt="speed_sign" width="104" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/resized_image.jpg" alt="resize_image" width="208" height="154">

- rotate image <br/>

  <img src="img/speed_sign.jpg" alt="speed_sign" width="104" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/rotated_image.jpg" alt="rotate_image" width="104" height="77">

- salt effect <br/>

  <img src="img/speed_sign.jpg" alt="speed_sign" width="104" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/salt_effect.jpg" alt="salt_effect" width="104" height="77">

- separate BGR color <br/>

  <img src="img/speed_sign.jpg" alt="speed_sign" width="104" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/colored_image.jpg" alt="separate_color" width="312" height="77">

- subtract 2 images<br/>

  <img src="img/new_york.jpg" alt="new_york" width="51" height="77">
  <img src="img/speaker.jpg" alt="speaker" width="51" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/subtract_image.jpg" alt="subtract_image" width="51" height="77">

- wave effect <br/>

  <img src="img/speed_sign.jpg" alt="speed_sign" width="104" height="77">
  <img src="img/arrow2.png" alt="arrow" width="104" height="77">
  <img src="img/wave_image.jpg" alt="wave_effect" width="104" height="77">


## Installing OpenCV on Windows with Visual Studio 2017

 Things you will need:

  - [Visual Studio 2017](https://visualstudio.microsoft.com/downloads/)
  - [CMake](https://github.com/Kitware/CMake/releases/download/v3.14.0-rc1/cmake-3.14.0-rc1-win64-x64.msi)
  - [VCPKG](https://github.com/Microsoft/vcpkg)
  - [OpenCV](https://drive.google.com/open?id=1djrZfTpm7qfVmbq5TrCs6x--2l7arx6i)

  - Intall Visual Studio 2017 and the Microsoft Visual C++ toolset with the installer.
  - Install CMake and add it to your PATH environment variable.
  - Use the provided OpenCV installar (it is a zip file, extarct it to your root folder `C:\`)
  - Start the InstallOCV.sh, it will automatically download the latest version of OpenCV with the extra modules and builds the binaries for you.
  - Create the OPENCV_DIR environment variable and set it to the vc15 folder (the folder where installOCV.sh is located, for exmaple: `C:\opencv\Install\opencv\x64\vc15`)
  - In Visual Studio, on the property pages of your project set the following properties: 
    - C++ -> General -> Additional include libraries -> `$(OPENCV_DIR)\..\..\include`
    - Linker -> General -> Additional library directories -> `$(OPENCV_DIR)\lib`
    - Linker -> Input -> Additional Dependencies ->  `opencv_world401d.lib, opencv_world410.lib, ws2_32.lib`

    *note: these opencv lib files can be found here: * `C:\opencv\Install\opencv\x64\vc15\lib` *make sure you check the version numbers*

  - Clone the VCPKG repo and follow the instructions to install it:
    - `bootstrap-vcpkg.bat` and 
    - `vcpkg integrate install`
  - Install Tesseract and google test with the following command with VCPKG:
    -  `vcpkg install tesseract:x64-windows` and
    -  `vcpkg install gtest:x64-windows`, to set up a google test project please follow this [this](https://www.youtube.com/watch?v=uxyfXU63Qpw) tutorial

  - Known issue: on some machines, Visual Studio can't find the `opencv-world401.dll`, in that case, copy the file from the OpenCV install folder to the folder of the built executable


## Project structure

```
repository-name
  opencv
    visual-c++-project
    google-test-project
  img
  docs
  README.md
  .gitignore
```


## Styleguide

We are using the C++ [styleguide](https://github.com/green-fox-academy/teaching-materials/blob/master/styleguide/cpp.mdS)


### Useful links

  - [gtest](https://github.com/google/googletest/blob/master/googletest/docs/primer.md)
  - [opencv documentation](https://docs.opencv.org/master/d9/df8/tutorial_root.html)
  - [tesseract](https://github.com/tesseract-ocr/tesseract)
  